(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[896],{3776:function(e,t,a){Promise.resolve().then(a.bind(a,9856))},3574:function(e,t){"use strict";function a(){return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a}}),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},9856:function(e,t,a){"use strict";a.r(t),a.d(t,{UserLocation:function(){return x}});var s,n=a(7437),o=a(2265);let r="__react-kakao-maps-sdk__",i=((s={})[s.INITIALIZED=0]="INITIALIZED",s[s.LOADING=1]="LOADING",s[s.SUCCESS=2]="SUCCESS",s[s.FAILURE=3]="FAILURE",s),l=`${r}_Loader`;class c{static loadEventCallback=new Set;callbacks=[];done=!1;loading=!1;errors=[];constructor(e){let{appkey:t,id:a=l,libraries:s=[],nonce:n,retries:o=3,url:r="//dapi.kakao.com/v2/maps/sdk.js"}=e;if(this.id=a,this.appkey=t,this.libraries=s,this.nonce=n,this.retries=o,this.url=r,c.instance&&!c.equalOptions(this.options,c.instance.options)&&!c.equalOptions(this.options,c.instance.options)){if(c.instance.status===i.FAILURE)throw Error(`Loader must not be called again with different options. 
${JSON.stringify(this.options,null,2)}
!==
${JSON.stringify(c.instance.options,null,2)}`);c.instance.reset(),c.instance=this}return c.instance||(c.instance=this),c.instance}get options(){return{appkey:this.appkey,id:this.id,libraries:this.libraries,nonce:this.nonce,retries:this.retries,url:this.url}}static addLoadEventLisnter(e){return window.kakao&&window.kakao.maps&&window.kakao.maps.load(e),c.loadEventCallback.add(e),e}static removeLoadEventLisnter(e){return c.loadEventCallback.delete(e)}load(){return new Promise((e,t)=>{this.loadCallback(a=>{a?t(a):e(window.kakao)})})}get status(){return this.onEvent?i.FAILURE:this.done?i.SUCCESS:this.loading?i.LOADING:i.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}loadCallback(e){this.callbacks.push(e),this.execute()}resetIfRetryingFailed(){this.failed&&this.reset()}reset(){this.deleteScript(),this.done=!0,this.loading=!1,this.errors=[],this.onEvent=void 0}execute(){if(this.resetIfRetryingFailed(),this.done)this.callback();else{if(window.kakao&&window.kakao.maps){console.warn("Kakao Maps이 이미 외부 요소에 의해 로딩되어 있습니다.설정한 옵션과 일치 하지 않을 수 있으며, 이에 따른 예상치 동작이 발생할 수 있습니다."),window.kakao.maps.load(this.callback);return}this.loading||(this.loading=!0,this.setScript())}}setScript(){document.getElementById(this.id)&&this.callback();let e=this.createUrl(),t=document.createElement("script");t.id=this.id,t.type="text/javascript",t.src=e,t.onerror=this.loadErrorCallback.bind(this),t.onload=this.callback.bind(this),t.defer=!0,t.async=!0,this.nonce&&(t.nonce=this.nonce),document.head.appendChild(t)}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){let e=this.errors.length*2**this.errors.length;console.log(`Failed to load Kakao Maps script, retrying in ${e} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},e)}else this.done=!0,this.loading=!1,this.onEvent=this.errors[this.errors.length-1],this.callbacks.forEach(e=>{e(this.onEvent)}),this.callbacks=[],c.loadEventCallback.forEach(e=>{e(this.onEvent)})}createUrl(){let e=this.url;return e+=`?appkey=${this.appkey}`,this.libraries.length&&(e+=`&libraries=${this.libraries.join(",")}`),e+="&autoload=false"}deleteScript(){let e=document.getElementById(this.id);e&&e.remove()}callback(){kakao.maps.load(()=>{c.instance.done=!0,c.instance.loading=!1,c.instance.callbacks.forEach(e=>{e(c.instance.onEvent)}),c.instance.callbacks=[],c.loadEventCallback.forEach(e=>{e(c.instance.onEvent)})})}static equalOptions(e,t){if(e.appkey!==t.appkey||e.id!==t.id||e.libraries.length!==t.libraries.length)return!1;for(let a=0;a<e.libraries.length;++a)if(e.libraries[a]!==t.libraries[a])return!1;return e.nonce===t.nonce&&e.retries===t.retries&&e.url===t.url}}let u=e=>{let[t,a]=(0,o.useState)([!0,void 0]);return(0,o.useEffect)(()=>{new c({...e}).load().then(()=>a([!1,void 0])).catch(e=>{a([!1,e])})},[JSON.stringify(e)]),t},d="undefined"!=typeof window&&"undefined"!=typeof document?o.useLayoutEffect:o.useEffect,p=(e,t,a)=>{d(()=>{if(!e||!a)return;let s=function(){for(var t=arguments.length,s=Array(t),n=0;n<t;n++)s[n]=arguments[n];return void 0===s?a(e):a(e,...s)};return kakao.maps.event.addListener(e,t,s),()=>{kakao.maps.event.removeListener(e,t,s)}},[e,t,a])},f=o.createContext(void 0),Map=o.forwardRef(function(e,t){let{id:a,as:s,children:i,center:l,isPanto:u=!1,padding:h=32,disableDoubleClick:k,disableDoubleClickZoom:m,draggable:g,zoomable:y,keyboardShortcuts:E,level:v,maxLevel:L,minLevel:b,mapTypeId:w,projectionId:I,scrollwheel:x,tileAnimation:_,onBoundsChanged:M,onCenterChanged:C,onClick:S,onDoubleClick:O,onDrag:j,onDragEnd:P,onDragStart:R,onIdle:A,onMaptypeidChanged:N,onMouseMove:z,onRightClick:D,onTileLoaded:T,onZoomChanged:U,onZoomStart:F,onCreate:$,...q}=e,[Z,H]=(0,o.useState)(!1),[B,J]=(0,o.useState)(),W=(0,o.useRef)(null);return d(()=>{let e=c.addLoadEventLisnter(e=>H(!e));return()=>{c.removeLoadEventLisnter(e)}},[]),d(()=>{if(!Z)return;let e=W.current;if(!e)return;let t="lat"in l?new kakao.maps.LatLng(l.lat,l.lng):new kakao.maps.Coords(l.x,l.y),a=new kakao.maps.Map(e,{center:t,disableDoubleClick:k,disableDoubleClickZoom:m,draggable:g,keyboardShortcuts:E,level:v,mapTypeId:"string"==typeof w?kakao.maps.MapTypeId[w]:w,projectionId:I,scrollwheel:x,tileAnimation:_});return J(a),()=>{e.innerHTML=""}},[Z,k,m,_]),(0,o.useImperativeHandle)(t,()=>B,[B]),d(()=>{B&&$&&$(B)},[B,$]),d(()=>{if(!B)return;let e=B.getCenter();e instanceof kakao.maps.Coords&&(e=e.toLatLng());let t="lat"in l?new kakao.maps.LatLng(l.lat,l.lng):new kakao.maps.Coords(l.x,l.y);t instanceof kakao.maps.LatLng&&t.equals(e)||t instanceof kakao.maps.Coords&&t.toLatLng().equals(e)||(u?B.panTo(t,h):B.setCenter(t))},[B,l.lat,l.lng,l.x,l.y]),d(()=>{B&&void 0!==g&&B.setDraggable(g)},[B,g]),d(()=>{B&&void 0!==y&&B.setZoomable(y)},[B,y]),d(()=>{B&&E&&"boolean"==typeof E&&B.setKeyboardShortcuts(E)},[B,E]),d(()=>{B&&v&&B.setLevel(v)},[B,v]),d(()=>{B&&w&&B.setMapTypeId("string"==typeof w?kakao.maps.MapTypeId[w]:w)},[B,w]),d(()=>{B&&I&&B.setProjectionId(I)},[B,I]),d(()=>{B&&L&&B.setMaxLevel(L)},[B,L]),d(()=>{B&&b&&B.setMinLevel(b)},[B,b]),p(B,"bounds_changed",M),p(B,"center_changed",C),p(B,"click",S),p(B,"dblclick",O),p(B,"drag",j),p(B,"dragstart",R),p(B,"dragend",P),p(B,"idle",A),p(B,"maptypeid_changed",N),p(B,"mousemove",z),p(B,"rightclick",D),p(B,"tilesloaded",T),p(B,"zoom_changed",U),p(B,"zoom_start",F),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s||"div",{id:a||`${r}_Map`,...q,ref:W}),B&&(0,n.jsx)(f.Provider,{value:B,children:i})]})}),h=e=>{let t=(0,o.useContext)(f);if(!t)throw Error(`${e?e+" Component":"useMap"} must exist inside Map Component!`);return t},k=o.forwardRef(function(e,t){let{center:a,radius:s,fillColor:n,fillOpacity:r,strokeColor:i,strokeOpacity:l,strokeStyle:c,strokeWeight:u,zIndex:d,onMouseover:f,onMouseout:k,onMousemove:m,onMousedown:g,onClick:y,onCreate:E}=e,v=h("Circle"),L=(0,o.useMemo)(()=>new kakao.maps.LatLng(a.lat,a.lng),[a.lat,a.lng]),b=(0,o.useMemo)(()=>new kakao.maps.Circle({center:L,radius:s,fillColor:n,fillOpacity:r,strokeColor:i,strokeOpacity:l,strokeStyle:c,strokeWeight:u,zIndex:d}),[]);return(0,o.useImperativeHandle)(t,()=>b,[b]),(0,o.useLayoutEffect)(()=>(b.setMap(v),()=>{b.setMap(null)}),[v,b]),(0,o.useLayoutEffect)(()=>{E&&E(b)},[b,E]),(0,o.useLayoutEffect)(()=>{b&&b.setPosition(L)},[b,L]),(0,o.useLayoutEffect)(()=>{b.setRadius(s)},[b,s]),(0,o.useLayoutEffect)(()=>{d&&b.setZIndex(d)},[b,d]),(0,o.useLayoutEffect)(()=>{b.setOptions({fillColor:n,fillOpacity:r,strokeColor:i,strokeOpacity:l,strokeStyle:c,strokeWeight:u})},[b,n,r,i,l,c,u]),p(b,"mouseover",f),p(b,"mouseout",k),p(b,"mousemove",m),p(b,"mousedown",g),p(b,"click",y),null});var m=a(4887);let g=o.forwardRef(function(e,t){let{map:a,position:s,marker:n,children:r,altitude:i,disableAutoPan:l,range:c,removable:u,zIndex:d,onCreate:p}=e,f=(0,o.useRef)(document.createElement("div")),h=(0,o.useMemo)(()=>{let e=new kakao.maps.InfoWindow({altitude:i,disableAutoPan:l,range:c,removable:u,zIndex:d,content:f.current,position:s});return f.current.style.display="none",e},[l,u]);return(0,o.useImperativeHandle)(t,()=>h,[h]),(0,o.useLayoutEffect)(()=>(h.open(a,n),()=>{h.close()}),[a,n]),(0,o.useLayoutEffect)(()=>{p&&p(h)},[h,p]),(0,o.useLayoutEffect)(()=>{h&&h.setPosition(s)},[h,s]),(0,o.useLayoutEffect)(()=>{h&&i&&h.setAltitude(i)},[h,i]),(0,o.useLayoutEffect)(()=>{h&&c&&h.setRange(c)},[h,c]),(0,o.useLayoutEffect)(()=>{h&&d&&h.setZIndex(d)},[h,d]),f.current.parentElement&&m.createPortal(r,f.current.parentElement)}),y=o.createContext(void 0),E=o.forwardRef(function(e,t){let{map:a,position:s,children:r,altitude:i,clickable:l,draggable:c,image:u,infoWindowOptions:d,onCreate:f,onClick:h,onDragEnd:k,onDragStart:m,onMouseOut:E,onMouseOver:v,opacity:L,range:b,title:w,zIndex:I}=e,x=(0,o.useContext)(y),_=(0,o.useMemo)(()=>u&&new kakao.maps.MarkerImage(u.src,new kakao.maps.Size(u.size.width,u.size.height),{alt:u.options?.alt,coords:u.options?.coords,offset:u.options?.offset&&new kakao.maps.Point(u.options?.offset.x,u.options?.offset.y),shape:u.options?.shape,spriteOrigin:u.options?.spriteOrigin&&new kakao.maps.Point(u.options?.spriteOrigin.x,u.options?.spriteOrigin.y),spriteSize:u.options?.spriteSize&&new kakao.maps.Size(u.options?.spriteSize.width,u.options?.spriteSize.height)}),[JSON.stringify(u)]),M=(0,o.useMemo)(()=>{let e=new kakao.maps.Marker({altitude:i,clickable:l,draggable:c,image:_,opacity:L,range:b,title:w,zIndex:I,position:s});return e},[]);return((0,o.useImperativeHandle)(t,()=>M,[M]),(0,o.useLayoutEffect)(()=>(x?x.addMarker(M,!0):M.setMap(a),()=>{x?x.removeMarker(M,!0):M.setMap(null)}),[a,x,M]),(0,o.useLayoutEffect)(()=>{f&&f(M)},[M,f]),p(M,"click",h),p(M,"dragstart",m),p(M,"dragend",k),p(M,"mouseout",E),p(M,"mouseover",v),(0,o.useLayoutEffect)(()=>{a&&M&&s&&M.setPosition(s)},[a,M,s]),(0,o.useLayoutEffect)(()=>{a&&M&&_&&M.setImage(_)},[a,M,_]),(0,o.useLayoutEffect)(()=>{a&&M&&i&&M.setAltitude(i)},[a,M,i]),(0,o.useLayoutEffect)(()=>{a&&M&&void 0!==l&&M.setClickable(l)},[a,M,l]),(0,o.useLayoutEffect)(()=>{a&&M&&void 0!==c&&M.setDraggable(c)},[a,M,c]),(0,o.useLayoutEffect)(()=>{a&&M&&L&&M.setOpacity(L)},[a,M,L]),(0,o.useLayoutEffect)(()=>{a&&M&&b&&M.setRange(b)},[a,M,b]),(0,o.useLayoutEffect)(()=>{a&&M&&w&&M.setTitle(w)},[a,M,w]),(0,o.useLayoutEffect)(()=>{a&&M&&I&&M.setZIndex(I)},[a,M,I]),r)?(0,n.jsx)(g,{position:s,map:a,marker:M,altitude:d?.altitude,disableAutoPan:d?.disableAutoPan,range:d?.range,removable:d?.removable,zIndex:d?.zIndex,children:r}):null}),v=o.forwardRef(function(e,t){let{position:a,...s}=e,r=h("MapMarker"),i=(0,o.useMemo)(()=>"lat"in a?new kakao.maps.LatLng(a.lat,a.lng):new kakao.maps.Coords(a.x,a.y).toLatLng(),[a.lat,a.lng,a.x,a.y]);return(0,n.jsx)(E,{map:r,position:i,...s,ref:t})});var L=a(1044),b=a.n(L),w=a(3574),I=a.n(w);let x=()=>{let[e,t]=(0,o.useState)([37.4621,127.037]),a="1cc20716fd020baf82dabc96c46ed5b8",s=[37.4625,127.037];u({appkey:a});let r=()=>{navigator.geolocation.getCurrentPosition(e=>{let a=e.coords.latitude,s=e.coords.longitude;t([a,s])})};return(0,o.useEffect)(()=>{let e=setInterval(r,5e3);return()=>{clearInterval(e)}},[]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(I(),{children:(0,n.jsx)("script",{type:"text/javascript",src:"//dapi.kakao.com/v2/maps/sdk.js?appkey=".concat(a,"&libraries=services,clusterer")})}),(0,n.jsxs)("div",{className:b().location,children:[(0,n.jsxs)(Map,{center:{lat:e[0],lng:e[1]},style:{width:"360px",height:"300px"},level:3,children:[(0,n.jsx)(k,{center:{lat:s[0],lng:s[1]},radius:50,strokeOpacity:0,fillOpacity:.2,fillColor:!function(e,t,a){let s=function(e,t,a,s){let n=(a-e)*Math.PI/180,o=(s-t)*Math.PI/180,r=Math.sin(n/2)*Math.sin(n/2)+Math.cos(e*Math.PI/180)*Math.cos(a*Math.PI/180)*Math.sin(o/2)*Math.sin(o/2);return 6371e3*(2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r)))}(e[0],e[1],t[0],t[1]);return s<=50}(e,s,0)?"red":"#383673"}),(0,n.jsx)(v,{position:{lat:s[0],lng:s[1]}}),e&&(0,n.jsx)(k,{center:{lat:e[0],lng:e[1]},radius:4,zIndex:10,strokeWeight:3,strokeOpacity:.2,fillOpacity:.8,fillColor:"red"})]}),(0,n.jsx)("button",{onClick:r,style:{cursor:"pointer",border:"1px solid purple",borderRadius:20,padding:"10px",marginBottom:"20px"},children:"Where Am I? \uD83E\uDD14"}),(0,n.jsxs)("p",{children:["현재 위치: ","위도".concat(e[0]," 경도").concat(e[1])]})]})]})}},1044:function(e){e.exports={layout:"page_layout__Dtwpk",wrapper:"page_wrapper__5mpqP"}},622:function(e,t,a){"use strict";var s=a(2265),n=Symbol.for("react.element"),o=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,a){var s,o={},c=null,u=null;for(s in void 0!==a&&(c=""+a),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)r.call(t,s)&&!l.hasOwnProperty(s)&&(o[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps)void 0===o[s]&&(o[s]=t[s]);return{$$typeof:n,type:e,key:c,ref:u,props:o,_owner:i.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},7437:function(e,t,a){"use strict";e.exports=a(622)}},function(e){e.O(0,[971,472,744],function(){return e(e.s=3776)}),_N_E=e.O()}]);